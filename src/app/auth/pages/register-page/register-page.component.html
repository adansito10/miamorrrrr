<div class="flex flex-column">
    <span class="text-lg mb-4">Registro</span>

    <!-- Formulario reactivo -->
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <mat-form-field>
            <mat-label>Nombre</mat-label>
            <input type="text" matInput placeholder="Ingrese su nombre" formControlName="name">
            <mat-error *ngIf="registerForm.get('name')?.hasError('required')">
                El nombre es obligatorio
            </mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Apellidos</mat-label>
            <input type="text" matInput placeholder="Ingrese su apellido" formControlName="lastName">
            <mat-error *ngIf="registerForm.get('lastName')?.hasError('required')">
                El apellido es obligatorio
            </mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Edad</mat-label>
            <input type="number" matInput placeholder="Ingrese su edad" formControlName="age">
            <mat-error *ngIf="registerForm.get('age')?.hasError('required')">
                La edad es obligatoria
            </mat-error>
            <mat-error *ngIf="registerForm.get('age')?.hasError('min')">
                La edad debe ser mayor a 0
            </mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Correo electrónico</mat-label>
            <input type="email" matInput placeholder="Ingrese su correo electrónico" formControlName="email">
            <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
                El correo es obligatorio
            </mat-error>
            <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
                Ingrese un correo válido
            </mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Contraseña</mat-label>
            <input type="password" matInput placeholder="Ingrese su contraseña" formControlName="password">
            <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
                La contraseña es obligatoria
            </mat-error>
            <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">
                La contraseña debe tener al menos 6 caracteres
            </mat-error>
        </mat-form-field>

        <!-- Botón de envío -->
        <button mat-flat-button color="primary" type="submit" [disabled]="registerForm.invalid">
            <mat-icon>person_add</mat-icon>
            Registrarse
        </button>
    </form>

    <!-- Mensajes de retroalimentación -->
    <div *ngIf="successMessage" class="text-success mt-3">
        {{ successMessage }}
    </div>
    <div *ngIf="errorMessage" class="text-error mt-3">
        {{ errorMessage }}
    </div>

    <div class="flex justify-content-end mt-5">
        <a routerLink="/auth/login">¿Ya tienes una cuenta? Inicia sesión</a>
    </div>
</div>